---
import Layout from "@layouts/Layout.astro";
import SoFarPage from "@components/SoFarPage.astro";
import { getTranslations, getHtmlLangAttribute } from "@i18n/utils";
import "@styles/global.css";

// Get language from path parameter
const { lang } = Astro.params;
const currentLang = lang === "zh" ? "zh" : "en";
const t = getTranslations(currentLang);
const htmlLang = getHtmlLangAttribute(currentLang);

// Define static paths for generation
export const prerender = true;
export function getStaticPaths() {
  return [{ params: { lang: "zh" } }];
}
---

<Layout
  title={t.soFar.meta.title}
  description={t.soFar.meta.description}
  lang={htmlLang}
  alternateLanguages={[{ lang: "en", url: "https://realmorrisliu.com/so-far" }]}
>
  <SoFarPage currentLang={currentLang} />
</Layout>
