---
import { getTranslations, type Language } from "../i18n/utils";

export interface Props {
  currentLang: Language;
}

const { currentLang } = Astro.props;
const t = getTranslations(currentLang);
---

<div class="max-w-full m-0 p-5 font-sans text-[9pt] leading-[1.2] text-black bg-white print:p-2 print:text-[8.5pt] print:leading-[1.15]">
  <!-- Header Section -->
  <header class="text-center mb-2.5 border-b border-black pb-1.5">
    <h1 class="text-[18pt] font-semibold m-0 mb-1 font-serif print:text-[16pt]">Morris Liu</h1>
    <div class="text-[9pt] mb-1.5 text-gray-700">
      <span class="mx-[3px]">morrisliu1994@outlook.com</span>
      <span class="mx-[3px]">•</span>
      <span class="mx-[3px]">github.com/realmorrisliu</span>
      <span class="mx-[3px]">•</span>
      <span class="mx-[3px]">twitter.com/realmorrisliu</span>
    </div>
    <p class="text-[9pt] font-normal m-0 max-w-[700px] mx-auto leading-[1.3] print:leading-[1.25]">
      {t.soFar.resumeSummary}
    </p>
  </header>

  <!-- Skills Section - Compact horizontal layout -->
  <section class="mb-2.5">
    <h2 class="text-[11pt] font-semibold m-0 mb-[5px] uppercase tracking-wide font-serif border-b border-gray-400 pb-0.5 print:text-[10pt]">{t.soFar.skills.title}</h2>
    <div class="flex flex-col gap-0.5">
      {
        t.soFar.skills.categories.map(category => (
          <div class="text-[9pt] leading-[1.2]">
            <strong class="font-semibold mr-1">{category.title}:</strong> {category.stack}
          </div>
        ))
      }
    </div>
  </section>

  <!-- Work Experience -->
  <section class="mb-2.5">
    <h2 class="text-[11pt] font-semibold m-0 mb-[5px] uppercase tracking-wide font-serif border-b border-gray-400 pb-0.5 print:text-[10pt]">{t.soFar.work.title}</h2>
    <div>
      {
        t.soFar.work.positions.map(position => (
          <div class="mb-[7px] break-inside-avoid">
            <div class="flex justify-between items-baseline mb-[3px]">
              <h3 class="text-[10pt] font-semibold m-0 print:text-[9pt]">{position.title}</h3>
              <div class="flex items-center gap-1 text-[8pt] text-gray-600 whitespace-nowrap">
                <span class="font-medium text-gray-700">{position.company}</span>
                <span class="text-gray-500">•</span>
                <span class="text-gray-600">{position.period}</span>
              </div>
            </div>
            <p class="text-[8pt] m-0 leading-[1.2] text-gray-700 print:text-[7.5pt] print:leading-[1.15]">{position.description}</p>
          </div>
        ))
      }
    </div>
  </section>

  <!-- Work Projects -->
  <section class="mb-2.5">
    <h2 class="text-[11pt] font-semibold m-0 mb-[5px] uppercase tracking-wide font-serif border-b border-gray-400 pb-0.5 print:text-[10pt]">{t.soFar.projects.workProjects.title}</h2>
    <div class="projects-list">
      {
        t.soFar.projects.workProjects.items.map(project => (
          <div class="project-item">
            <div class="flex justify-between items-baseline mb-[1px]">
              <h3 class="text-[9pt] font-semibold m-0 flex-1 print:text-[8pt]">{project.title}</h3>
              <span class="text-[8pt] text-gray-600 whitespace-nowrap">{project.period}</span>
            </div>
            <p class="text-[8pt] m-0 mb-[3px] leading-[1.2] text-gray-700 print:text-[7.5pt] print:leading-[1.15]">{project.description}</p>
            {project.details && (
              <ul class="m-0 pl-2.5 text-[7pt] leading-[1.1] print:text-[6.5pt] print:leading-[1.1]">
                {project.details.map((detail: string) => (
                  <li class="mb-[1px] text-gray-700">{detail}</li>
                ))}
              </ul>
            )}
          </div>
        ))
      }
    </div>
  </section>

  <!-- Personal Projects -->
  <section class="mb-2.5">
    <h2 class="text-[11pt] font-semibold m-0 mb-[5px] uppercase tracking-wide font-serif border-b border-gray-400 pb-0.5 print:text-[10pt]">{t.soFar.projects.personalProjects.title}</h2>
    <div class="projects-list">
      {
        t.soFar.projects.personalProjects.items.map(project => (
          <div class="project-item">
            <h3 class="text-[9pt] font-semibold m-0 flex-1 print:text-[8pt]">
              {project.title}
              {project.githubUrl && (
                <span class="text-[7pt] text-gray-600 font-normal">
                  {" "}
                  • GitHub: {project.githubUrl.replace("https://github.com/", "")}
                </span>
              )}
            </h3>
            <p class="text-[8pt] m-0 mb-[3px] leading-[1.2] text-gray-700 print:text-[7.5pt] print:leading-[1.15]">{project.description}</p>
          </div>
        ))
      }
    </div>
  </section>
</div>

<style>
  @media print {
    @page {
      margin: 0.3in;
      size: A4;
    }
  }
</style>

